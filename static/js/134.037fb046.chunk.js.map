{"version":3,"file":"static/js/134.037fb046.chunk.js","mappings":"oRAEMA,EAAU,mCAEVC,EAAW,+BAEJC,EAAiB,WAC5B,OAAOC,EAAAA,EAAAA,IAAA,UAAaF,EAAb,wCAAqDD,GAC7D,EAEYI,EAAoB,SAAAC,GAC/B,OAAOF,EAAAA,EAAAA,IAAA,UACFF,EADE,+BAC6BI,EAD7B,oBACkDL,EADlD,8CAGR,EAEYM,EAAiB,SAAAC,GAC5B,OAAOJ,EAAAA,EAAAA,IAAA,UACFF,EADE,kBACgBM,EADhB,qBAC+BP,EAD/B,mBAGR,EAEYQ,EAAiB,SAAAD,GAC5B,OAAOJ,EAAAA,EAAAA,IAAA,UACFF,EADE,kBACgBM,EADhB,6BACuCP,EADvC,mBAGR,EAEYS,EAAoB,SAAAF,GAC/B,OAAOJ,EAAAA,EAAAA,IAAA,UACFF,EADE,kBACgBM,EADhB,6BACuCP,EADvC,0BAGR,C,+FCsBD,UAjDqB,WACnB,OAA4BU,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAYF,EAAaG,IAAI,SAC7BC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACU,KAAdJ,GAAkC,OAAdA,IAExBZ,EAAAA,EAAAA,IAAkBY,GAAWK,MAAK,YAA4B,IAAjBC,EAAgB,EAAxBC,KAAQD,QAC3CV,EAAUU,EACX,GACF,GAAE,CAACN,IAUJ,OACE,iCACE,kBAAMQ,SAVW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,OACXD,EAAKE,SAASC,MAAMC,OACtBhB,EAAgB,CAAEe,MAAOH,EAAKE,SAASC,MAAMC,QAC/CJ,EAAKK,OACN,EAIG,WACE,kBAAOC,KAAK,WACZ,2CAEF,yBACE,SAAC,EAAAC,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,SACGxB,GACCA,EAAOyB,KAAI,YAA6B,IAA1B7B,EAAyB,EAAzBA,GAAI8B,EAAqB,EAArBA,eAChB,OACE,yBACE,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAMrB,GAAYsB,GAAE,kBAAajC,GAAhD,SACG8B,KAFI9B,EAMZ,SAGP,SAAC,EAAA2B,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,SAAC,KAAD,QAIP,C","sources":["api/FetchMovies.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY_API = 'e547d49db32dd8dd8191ece466e036a9';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchTopMovies = () => {\n  return axios.get(`${BASE_URL}/trending/movie/week?api_key=${KEY_API}`);\n};\n\nexport const fetchMoviesByName = nameMovie => {\n  return axios.get(\n    `${BASE_URL}/search/movie?query=${nameMovie}&api_key=${KEY_API}&language=en-US&page=1&include_adult=false`\n  );\n};\n\nexport const fetchMovieById = id => {\n  return axios.get(\n    `${BASE_URL}/movie/${id}}?api_key=${KEY_API}&language=en-US`\n  );\n};\n\nexport const fetchMovieCast = id => {\n  return axios.get(\n    `${BASE_URL}/movie/${id}}/credits?api_key=${KEY_API}&language=en-US`\n  );\n};\n\nexport const fetchMovieReviews = id => {\n  return axios.get(\n    `${BASE_URL}/movie/${id}}/reviews?api_key=${KEY_API}&language=en-US&page=1`\n  );\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport { Link, Outlet, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByName } from 'api/FetchMovies';\nimport { Loader } from 'components/Loader/Loader';\n\nconst SearchMovies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (movieName === '' || movieName === null) return;\n\n    fetchMoviesByName(movieName).then(({ data: { results } }) => {\n      setMovies(results);\n    });\n  }, [movieName]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.target;\n    if (form.elements.query.value)\n      setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input name=\"query\" />\n        <button>Search</button>\n      </form>\n      <ul>\n        <Suspense fallback={<Loader />}>\n          {movies &&\n            movies.map(({ id, original_title }) => {\n              return (\n                <li key={id}>\n                  <Link state={{ from: location }} to={`/movies/${id}`}>\n                    {original_title}\n                  </Link>\n                </li>\n              );\n            })}\n        </Suspense>\n      </ul>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default SearchMovies;\n"],"names":["KEY_API","BASE_URL","fetchTopMovies","axios","fetchMoviesByName","nameMovie","fetchMovieById","id","fetchMovieCast","fetchMovieReviews","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","location","useLocation","useEffect","then","results","data","onSubmit","e","preventDefault","form","target","elements","query","value","reset","name","Suspense","fallback","map","original_title","state","from","to"],"sourceRoot":""}